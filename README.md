# QR-Api

## Description

This project is a simple API for qr codes built using Spring Boot. It provides endpoints for 
creating and manage QR codes for various types of information including URL, text, and Wi-Fi network configurations. Users can register for an account, log in
securely, generate QR codes, manage their generated QR codes, and access additional features based on their
assigned roles.

## Prerequisites

Before you begin, ensure you have met the following requirements:

- docker-compose 1.6.0 or above

## Getting Started

To get started, follow these steps:

1. From the root folder give ```docker-compose up``` to spin up both postgres and application containers
## Usage

- **Endpoint 1:** Register a new user with email and password.
    - **Method:** [POST]
    - **URL:** `http://localhost:8005/api/auth/register`
    - **Request Body (if applicable):**
      ```json
      {
        "email": "user@example.com",
        "password": "1234"
      }
      ```
    

- **Endpoint 2:** Log in with email and password to obtain an authentication token.
    - **Method:** [POST]
    - **URL:** `http://localhost:8005/api/auth/login`
    - **Request Body (if applicable):**
      ```json
      {
        "email": "user@example.com",
        "password": "1234"
      }
      ```

- **Endpoint 3:** Generate a new QR code by providing the type of information and relevant data.
  The API must be able to create 4 type of QR codes: URL, free text and Wi-Fi network configuration (SSID,
  password).
    - **Method:** [POST]
    - **URL:** `http://localhost:8005/api/qrcodes`
    - **Request Body (if applicable):**
      ```json
      {
        https://www.netflix.com/
      }
      ```

- **Endpoint 4:** Retrieve details of a specific QR code by its ID. This API should also return
  the actual QR code (in the format you choose).
    - **Method:** [GET]
    - **URL:** `http://localhost:8005/api/qrcodes/:id`
    - **Request Body (not applicable):**

- **Endpoint 5:** Retrieve a list of all QR codes generated by the authenticated user. The API
  endpoint must support filtering based on the QR code type as well
  as pagination.
    - **Method:** [GET]
    - **URL:** `http://localhost:8005/api/qrcodes/`
    - **Optional Request Parameters:
    - **?pageNo=<int>
    - **?pageSize=<int>
    - **?type=<URL,TEXT,WIFI_CONFIG>
    - **Request Body (not applicable):**   

- **Endpoint 6:** Update the data associated with a specific QR code. Each time the payload
  of the QR code changes, the QR code must be updated.
    - **Method:** [PUT]
    - **URL:** `http://localhost:8005/api/qrcodes/:id`
    - **Request Body (if applicable):**
      ```json
      {
        "SSID": "some ssid",
        "password": "password"
      }
      ```
- **Endpoint 7:** Delete a QR code specified by its ID.
  - **Method:** [DELETE]
  - **URL:** `http://localhost:8005/api/qrcodes/:id`
  - **Request Body (not applicable):**

- **Endpoint 8:** Retrieve a list of all users (admin privilege required).
    - **Method:** [GET]
    - **URL:** `http://localhost:8005/api/users`
    - **Request Body (not applicable):**  

- **Endpoint 9:** Update user details (admin privilege required).
    - **Method:** [PUT]
    - **URL:** `http://localhost:8005/api/users`
    - **Request Body (if applicable):**
  ```json
      {
        "email": "updated@example.com",
        "password": "password"
      }
  ```
- **Endpoint 10:** Delete a user account (admin privilege required).
    - **Method:** [DELETE]
    - **URL:** `http://localhost:8005/api/users/:id`
    - **Request Body (not applicable):**


## Configuration

- Admin email address: admin@qrcompany.com (in order to register). Database is empty when application starts.

## Testing

To test the application, run:

```bash
mvn test
```
## To-do
[1] Refactor code using SOLID principles.
[2] Add error handling and return proper HTTP statuses among with informative messages.
[3] Handle validation of input both in back-end(We are assuming that every request payload in correct format).
[4] Exception handling and correct propagation.
[5] Refactor unit tests.
[6] Implement the front-end side.
[7] Add integration tests.
[8] Create POSTMAN collection to automate testing as much as possible.
[9] Add same initial sample data in the DB.
